# 💻 macOS Client Configuration Guide

> 🍎 Professional proxy client configuration solutions for Mac users, covering detailed usage tutorials for both free open-source and commercial paid applications.

## 🌟 Recommended Clients

### 🆓 Free Open Source Applications

| Client | Type | Key Features | Rating | Tutorial |
|--------|------|--------------|--------|----------|
| [⚔️ Clash Verge](clash-verge.md) | Open Source | Modern interface, rich features | ⭐⭐⭐⭐⭐ | [Setup Guide](clash-verge.md) |
| [👑 ClashX Pro](clashx-pro.md) | Enhanced | Professional version based on ClashX | ⭐⭐⭐⭐ | [Setup Guide](clashx-pro.md) |

### 💰 Commercial Paid Applications

| Client | Price | Key Features | Rating | Tutorial |
|--------|-------|--------------|--------|----------|
| [🌊 Surge Pro](surge-pro.md) | $99.99 | Enterprise-grade features, professional tools | ⭐⭐⭐⭐⭐ | [Setup Guide](surge-pro.md) |

---

## 🎯 Selection Guide

### 🆕 New Users

#### Recommended: Clash Verge

- ✅ Completely free and open source
- ✅ Modern and beautiful interface
- ✅ Comprehensive and user-friendly features
- ✅ Active community support
- ✅ Regular updates and maintenance
- ✅ Native Apple Silicon support

### 🔧 Advanced Users

#### Recommended: ClashX Pro

- ✅ Based on mature ClashX foundation
- ✅ More powerful feature set
- ✅ Rich configuration options
- ✅ Optimized performance
- ✅ Professional debugging tools
- ✅ Extended protocol support

### 💼 Professional Users

#### Recommended: Surge Pro

- ✅ Industry benchmark product
- ✅ Most comprehensive feature set
- ✅ Enterprise-grade stability
- ✅ Professional technical support
- ✅ Advanced network analysis tools
- ❌ Premium pricing ($99.99)

---

## 📊 Feature Comparison

| Feature | Clash Verge | ClashX Pro | Surge Pro |
|---------|-------------|------------|-----------|
| 🏷️ **Price** | Free | Free | $99.99 |
| 🎨 **Interface Design** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 🚀 **Performance** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 🔧 **Feature Richness** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 🛡️ **Stability** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 📚 **Learning Curve** | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| 🔄 **Update Frequency** | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |

## 🛠️ Protocol Support Matrix

| Protocol | Clash Verge | ClashX Pro | Surge Pro |
|----------|-------------|------------|-----------|
| 🔒 **Shadowsocks** | ✅ | ✅ | ✅ |
| 🌟 **VMess** | ✅ | ✅ | ✅ |
| 🛡️ **VLESS** | ✅ | ✅ | ❌ |
| 🗡️ **Trojan** | ✅ | ✅ | ✅ |
| 📡 **ShadowsocksR** | ❌ | ✅ | ❌ |
| 🌐 **HTTP/HTTPS** | ✅ | ✅ | ✅ |
| 🧦 **SOCKS** | ✅ | ✅ | ✅ |
| 🚀 **Hysteria** | ✅ | ✅ | ❌ |
| 🐚 **Snell** | ❌ | ❌ | ✅ |

---

## 🔧 System Requirements

### 📋 Minimum Configuration

- **Operating System**: macOS 10.12 Sierra and above
- **Processor**: Intel x64 or Apple Silicon (M1/M2/M3)
- **Memory**: 4GB RAM (8GB or more recommended)
- **Storage**: 200MB available space
- **Network**: Stable internet connection
- **Xcode Tools**: Command Line Tools (for some features)

### 🎯 Recommended Configuration

- **Operating System**: macOS 12 Monterey or later
- **Processor**: Apple Silicon M1/M2/M3 or Intel Core i5 and above
- **Memory**: 8GB RAM or more
- **Storage**: 1GB available space (for logs and cache)
- **Graphics**: Metal-compatible GPU (for UI acceleration)
- **Network**: Broadband connection with low latency

---

## 🍎 Apple Silicon Compatibility

### 🚀 Native Support Status

| Client | Intel (x86_64) | Apple Silicon (ARM64) | Rosetta 2 |
|--------|----------------|----------------------|-----------|
| **Clash Verge** | ✅ Native | ✅ Native | ✅ |
| **ClashX Pro** | ✅ Native | ✅ Native | ✅ |
| **Surge Pro** | ✅ Native | ✅ Native | ✅ |

### ⚡ Performance Considerations

#### Apple Silicon Benefits

- **Energy Efficiency**: Longer battery life on MacBooks
- **Performance**: Superior CPU and memory performance
- **Heat Management**: Lower thermal output
- **Integration**: Better macOS system integration

#### Intel Mac Considerations

- **Legacy Support**: Full compatibility with older software
- **x86_64 Optimization**: Mature optimization for Intel architecture
- **Bootcamp Support**: Windows dual-boot capabilities
- **Virtual Machines**: Better VM performance for x86 systems

---

## 🎯 Use Case Scenarios

### 📱 Daily Browsing & Work

**Best Choice**: Clash Verge

- Intuitive interface for daily use
- Automatic rule-based routing
- Low resource consumption
- Seamless macOS integration

### 🎮 Gaming & Streaming

**Best Choice**: ClashX Pro

- Game-optimized routing rules
- Low-latency connection modes
- Custom protocol support
- Real-time performance monitoring

### 💼 Professional Development

**Best Choice**: Surge Pro

- Advanced debugging capabilities
- Comprehensive network analysis
- MitM functionality for development
- Professional scripting support

### 🏢 Enterprise Deployment

**Best Choice**: Surge Pro

- Enterprise-grade stability
- Centralized management capabilities
- Detailed logging and monitoring
- Professional support services

---

## 📚 Quick Navigation

### 📖 Configuration Tutorials

- [⚔️ Clash Verge Modern Client](clash-verge.md)
- [👑 ClashX Pro Enhanced Version](clashx-pro.md)
- [🌊 Surge Pro Enterprise Solution](surge-pro.md)

### 🆘 Support Resources

- [❓ Common Issues & Solutions](#-common-issues)
- [🔧 Installation Guide](#-installation-guide)
- [🛡️ Security Configuration](#️-security-best-practices)
- [⚡ Performance Optimization](#-performance-optimization)

---

## 🔧 Installation Guide

### 📥 Installation Methods

#### App Store Installation (Surge Pro)

1. **Purchase & Download**
   - Visit Mac App Store
   - Search for "Surge 5"
   - Purchase and install normally

2. **First Launch Setup**
   - Grant network extension permissions
   - Configure basic proxy settings
   - Import initial configuration

#### Manual Installation (Open Source Apps)

1. **Download from Official Sources**
   - Visit official GitHub releases
   - Download appropriate architecture version
   - Verify file integrity if checksums provided

2. **Installation Process**
   ```bash
   # Extract downloaded archive
   unzip clash-verge-macos.zip

   # Move to Applications folder
   mv "Clash Verge.app" /Applications/

   # Grant execution permissions
   xattr -cr "/Applications/Clash Verge.app"
   ```

3. **Security Permissions**
   - System Preferences → Security & Privacy
   - Allow application in "General" tab
   - Grant network extension permissions

### 🛡️ macOS Security Considerations

#### Gatekeeper

```bash
# Remove quarantine attribute if needed
sudo xattr -r -d com.apple.quarantine "/Applications/App Name.app"

# Allow unsigned applications (not recommended)
sudo spctl --master-disable
```

#### System Integrity Protection (SIP)

- Most proxy clients work with SIP enabled
- Some advanced features may require SIP adjustments
- Only modify SIP if absolutely necessary

---

## ❓ Common Issues

### 🔧 Installation Problems

**Q: App won't open due to security restrictions?**

A: Solutions:

1. Right-click app → "Open" → Confirm
2. System Preferences → Security → "Open Anyway"
3. Remove quarantine attribute via Terminal
4. Check for code signing issues

**Q: Network extension won't load?**

A: Troubleshooting:

1. System Preferences → Network → Reset network settings
2. Clear network extension cache
3. Restart and try again
4. Check for conflicting VPN software

### 🌐 Connection Issues

**Q: Proxy doesn't work with specific applications?**

A: Solutions:

1. Configure application-specific proxy settings
2. Use system-wide proxy mode
3. Check for application proxy exclusions
4. Verify rule-based routing configuration

**Q: DNS resolution problems?**

A: Fixes:

1. Configure custom DNS servers
2. Clear DNS cache: `sudo dscacheutil -flushcache`
3. Reset network configuration
4. Check for DNS leaks

### 🍎 macOS-Specific Issues

**Q: App breaks after macOS update?**

A: Recovery steps:

1. Update to latest app version
2. Reconfigure network permissions
3. Reset network extension settings
4. Reinstall if necessary

---

## 🛡️ Security Best Practices

### 🔐 Application Security

#### Code Signing Verification

```bash
# Verify application signature
codesign --verify --verbose "/Applications/App Name.app"

# Check for valid certificate
spctl --assess --verbose "/Applications/App Name.app"
```

#### Permission Management

1. **Network Extensions**
   - Grant only necessary permissions
   - Regularly review granted permissions
   - Monitor network activity

2. **File System Access**
   - Limit configuration file access
   - Use secure storage for credentials
   - Regular permission audits

### 🛡️ Network Security

#### Traffic Analysis

1. **Built-in Monitoring**
   - Use app's traffic monitoring features
   - Monitor connection patterns
   - Check for unusual activity

2. **System-Level Monitoring**
   ```bash
   # Monitor network connections
   sudo lsof -i

   # Check active network interfaces
   ifconfig

   # Monitor real-time traffic
   sudo tcpdump -i en0
   ```

#### DNS Security

1. **Secure DNS Configuration**
   - Use trusted DNS providers
   - Enable DNS over HTTPS/TLS
   - Monitor DNS queries for leaks

2. **DNS Leak Prevention**
   - Configure proper DNS routing
   - Use VPN-aware DNS settings
   - Regular DNS leak testing

---

## ⚡ Performance Optimization

### 🚀 System-Level Optimization

#### macOS Performance Settings

1. **Energy Saver Settings**
   - Disable "Put hard disks to sleep"
   - Prevent computer from sleeping automatically
   - Optimize for performance over battery life

2. **Network Configuration**
   ```bash
   # Optimize network buffer sizes
   sudo sysctl -w net.inet.tcp.sendspace=65536
   sudo sysctl -w net.inet.tcp.recvspace=65536

   # Adjust connection limits
   sudo sysctl -w kern.ipc.somaxconn=1024
   ```

#### Resource Management

1. **Memory Optimization**
   - Monitor memory pressure
   - Close unnecessary applications
   - Configure appropriate cache sizes

2. **CPU Optimization**
   - Use Activity Monitor to identify bottlenecks
   - Adjust process priorities if needed
   - Monitor thermal throttling

### 📊 Application-Specific Tuning

#### Connection Pool Settings

```yaml
# Example configuration for optimal performance
pool:
  max-idle-connections: 100
  max-connections-per-host: 10
  keep-alive-timeout: 90s
  connection-timeout: 30s
```

#### Rule Engine Optimization

1. **Rule Ordering**
   - Place most frequently matched rules first
   - Use efficient pattern matching
   - Minimize regex usage where possible

2. **Caching Strategy**
   - Enable DNS caching
   - Configure appropriate cache TTL
   - Use connection pooling

---

## 💡 Advanced Features

### 🎯 Automation & Integration

#### AppleScript Integration

```applescript
-- Example: Toggle proxy state
tell application "Clash Verge"
    if (proxy state is enabled) then
        disable proxy
    else
        enable proxy
    end if
end tell
```

#### Shortcuts App Integration

1. **Create Automation Shortcuts**
   - Location-based proxy switching
   - Time-based configuration changes
   - Network-aware rule activation

2. **Siri Integration**
   - Voice commands for proxy control
   - Status checking via voice
   - Quick configuration switching

#### Command Line Tools

```bash
# Example CLI operations
clash-verge --config work.yaml --daemon
clash-verge --stop
clash-verge --status
```

### 📊 Monitoring & Analytics

#### Built-in Analytics

1. **Traffic Analysis**
   - Real-time bandwidth monitoring
   - Historical usage patterns
   - Application-specific statistics

2. **Connection Quality**
   - Latency monitoring
   - Connection success rates
   - Server performance metrics

#### External Monitoring Tools

```bash
# Network monitoring tools
brew install iftop
brew install nethogs
brew install bandwhich

# Usage examples
sudo iftop -i en0
sudo nethogs
bandwhich
```

---

## 🔗 Additional Resources

### 📚 Documentation Links

- [Apple Developer Network Extensions](https://developer.apple.com/documentation/networkextension)
- [macOS Security Documentation](https://support.apple.com/guide/security/)
- [macOS Network Configuration](https://support.apple.com/guide/system-preferences/network/)

### 💬 Community Support

- [ClashX GitHub Issues](https://github.com/yichengchen/clashX)
- [Clash Verge Discussions](https://github.com/zzzgydi/clash-verge)
- [Surge Community Forum](https://community.nssurge.com/)

---

> 📅 Last Updated: July 10, 2025 | 🍎 macOS 10.12+ | 💻 Intel/Apple Silicon | 🔄 Version: 3.0.0

